(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{382:function(s,n,a){"use strict";a.r(n);var e=a(7),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"受控组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#受控组件"}},[s._v("#")]),s._v(" 受控组件")]),s._v(" "),n("h2",{attrs:{id:"基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[s._v("#")]),s._v(" 基本概念")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("HTML")]),s._v(" 中表单元素是可输入的，即表单用户并维护着自己的可变状态")]),s._v(" "),n("li",[s._v("当时在 "),n("code",[s._v("react")]),s._v(" 中，可变状态通常是保存在 "),n("code",[s._v("state")]),s._v(" 中的，并且要求通过 "),n("code",[s._v("setState")]),s._v(" 进行修改")]),s._v(" "),n("li",[n("code",[s._v("react")]),s._v(" 中将 "),n("code",[s._v("state")]),s._v(" 中的数据与表单元素的 "),n("code",[s._v("value")]),s._v(" 值绑定到了一起， 由 "),n("code",[s._v("state")]),s._v(" 值来控制表单元素的值")]),s._v(" "),n("li",[s._v("受控组件：value 值受到了 "),n("code",[s._v("react")]),s._v(" 控制的表单元素")])]),s._v(" "),n("div",{staticClass:"language-react line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('render(){\n    return (\n    \t<div>\n        \t<input\n                type = "text"\n                value = {this.state.msg}\n                onChange = {this.handleChange}>\n            </input>\n        </div>\n    )\n}\nhandleChange = ()=>{\n\tthis.setState({\n        msg:e.target.value\n    })                    \n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"多个受控组件封装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多个受控组件封装"}},[s._v("#")]),s._v(" 多个受控组件封装")]),s._v(" "),n("p",[s._v("除了文本类型外文字域、下拉框和复选框等都可以使用 "),n("code",[s._v("react")]),s._v(" 的受控")]),s._v(" "),n("div",{staticClass:"language-react line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("handleChange = (e)=>{\n    const {name,type,checked,value}  = e.target\n    this.setState({\n        [name]:type === 'checkbox'?checked:value\n    })\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("strong",[s._v("注意：")]),s._v(" 此处使用到了 "),n("code",[s._v("es6")]),s._v(" 的特性")]),s._v(" "),n("p",[s._v("在 "),n("code",[s._v("es6")]),s._v(" 之前，属性的名字必须是指定的好的，属性的值可以是任意形式的表达式")]),s._v(" "),n("p",[s._v("在 "),n("code",[s._v("es6")]),s._v(" 之后，属性名可以是任意形式的表达式，但是需要使用 "),n("code",[s._v("[]")]),s._v(" 包裹")]),s._v(" "),n("h2",{attrs:{id:"非受控组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#非受控组件"}},[s._v("#")]),s._v(" 非受控组件")]),s._v(" "),n("p",[n("strong",[s._v("ref 使用步骤")])]),s._v(" "),n("ol",[n("li",[s._v("通过 "),n("code",[s._v("React.createRef()")]),s._v(" 创建一个 "),n("code",[s._v("ref")])]),s._v(" "),n("li",[s._v("通过 "),n("code",[s._v("ref={this.xxxRef}")]),s._v(" 关联给某个 "),n("code",[s._v("DOM")]),s._v(" 对象或者组件")]),s._v(" "),n("li",[s._v("通过 "),n("code",[s._v("this.xxxRef.current")]),s._v(" 属性就可以获取到对应的 "),n("code",[s._v("dom")]),s._v(" 元素")])]),s._v(" "),n("div",{staticClass:"language-react line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('const textRef = React.reateRef()\nrender(){\n    return (\n    \t<div>\n            <input type="text" ref={this.textRef}>\n        \t<button\n                onClick = {this.handle}>\n            </button>\n        </div>\n    )\n}\nhandle = ()=>{\n\tconsole.log(this.textRef.current.value)                 \n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"评论列表案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#评论列表案例"}},[s._v("#")]),s._v(" 评论列表案例")]),s._v(" "),n("ol",[n("li",[s._v("展示评论列表功能")]),s._v(" "),n("li",[s._v("清空评论的功能")]),s._v(" "),n("li",[s._v("发表新的评论的功能")]),s._v(" "),n("li",[s._v("删除评论功能")]),s._v(" "),n("li",[s._v("没有更多评论的处理")])]),s._v(" "),n("div",{staticClass:"language-react line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import React from 'react'\nimport ReactDOM from 'react-dom'\n\n/* \n  评论列表案例\n\n  comments: [\n    { id: 1, name: 'jack', content: '沙发！！！' },\n    { id: 2, name: 'rose', content: '板凳~' },\n    { id: 3, name: 'tom', content: '楼主好人' }\n  ]\n*/\n\nimport './index.css'\n\nclass App extends React.Component {\n  // constructor() {\n  //   super()\n  // }\n\n  state = {\n    list: [\n      { id: 1, name: 'y', comment: '代码练习太少了' },\n      { id: 2, name: 'd', comment: '外包接单没法接' },\n      { id: 3, name: 'h', comment: '写起东西无从下手' },\n      { id: 4, name: 's', comment: '资源较少，没有经验' },\n    ],\n    user: '',\n    content: '',\n  }\n  render() {\n    return (\n      <div className=\"app\">\n        <div>\n          <input\n            onChange={this.handleChange}\n            className=\"user\"\n            name=\"user\"\n            type=\"text\"\n            placeholder=\"请输入评论人\"\n            value={this.state.user}\n          />\n          <br />\n          <textarea\n            onChange={this.handleChange}\n            className=\"content\"\n            name=\"content\"\n            cols=\"30\"\n            rows=\"10\"\n            value={this.state.content}\n            placeholder=\"请输入评论内容\"\n          />\n          <br />\n          <button onClick={this.sendComment}>发表评论</button>\n          <button onClick={this.clearComment}>清空评论</button>\n        </div>\n        {this.state.list.length !== 0 ? (\n          <ul>\n            {this.state.list.map((item) => {\n              return (\n                <li key={item.id}>\n                  <h3>评论人：{item.name}</h3>\n                  <p>评论内容：{item.comment}</p>\n                  <button\n                    onClick={() => {\n                      this.deleteComment(item.id)\n                    }}\n                  >\n                    删除评论\n                  </button>\n                </li>\n              )\n            })}\n          </ul>\n        ) : (\n          <div className=\"no-comment\">暂无评论，快去评论吧~</div>\n        )}\n      </div>\n    )\n  }\n  handleChange = (e) => {\n    const { name, value } = e.target\n    this.setState({\n      [name]: value,\n    })\n  }\n  clearComment = () => {\n    this.setState({\n      list: [],\n    })\n  }\n  deleteComment = (id) => {\n    const newList = this.state.list.filter((item) => item.id !== id)\n    this.setState({\n      list: newList,\n    })\n  }\n  sendComment = () => {\n    if (this.state.user.length === 0 || this.state.content.length === 0) {\n      alert('信息不完整')\n      return\n    }\n    const add = {\n      id: Date.now(),\n      name: this.state.user,\n      comment: this.state.content,\n    }\n    this.setState({\n      list: [add, ...this.state.list],\n      user: '',\n      content: '',\n    })\n  }\n}\n\n// 渲染组件\nReactDOM.render(<App />, document.getElementById('root'))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);