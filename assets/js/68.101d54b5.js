(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{381:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"this指向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#this指向"}},[s._v("#")]),s._v(" this指向")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("length")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nobj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fn "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" arr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sayHi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\narr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("打印得结果为")]),s._v(" "),t("ul",[t("li",[s._v("20\tthis指向的是obj，因为调用者是obj")]),s._v(" "),t("li",[s._v("10    this指向的是window，因为调用者是window")]),s._v(" "),t("li",[s._v("3      this指向的是arr，因为调用者是arr")])]),s._v(" "),t("h2",{attrs:{id:"react中的this指向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react中的this指向"}},[s._v("#")]),s._v(" react中的this指向")]),s._v(" "),t("p",[s._v("在类组件中 "),t("code",[s._v("render")]),s._v(" 的 "),t("code",[s._v("this")]),s._v(" 指向当前组件")]),s._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("render() {\n  const onClick = this.handleClick\n  onClick()\n  return (\n    <div>\n      <h1>XXX</h1>\n      <div>{this.state.msg}</div>\n      <div>{this.state.count}</div>\n      <button onClick={this.handleClick}>点击事件</button>\n    </div>\n  )\n}\nhandleClick() {\n  console.log('233' + this)\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("函数调用中的 this 因为没有定义所以是 "),t("code",[s._v("undefined")]),s._v(" , 不知道谁是调用者")]),s._v(" "),t("p",[t("strong",[s._v("解决方案1")])]),s._v(" "),t("p",[s._v("把函数调用包裹在箭头函数中")]),s._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const onClick = () => this.handleClick()\nonClick()\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("解决方案2")])]),s._v(" "),t("p",[s._v("绑定 "),t("code",[s._v("this")])]),s._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const onClick = this.handleClick.bind(this)\nonClick()\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("解决方案3")])]),s._v(" "),t("p",[s._v("class新语法：类实例语法")]),s._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("handleClick = ()=>{\n    console.log(this)\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("此处是把函数写在了实例上，需要配合插件。。直接使用 "),t("code",[s._v("js")]),s._v(" 可能无效")]),s._v(" "),t("h2",{attrs:{id:"react修改状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react修改状态"}},[s._v("#")]),s._v(" react修改状态")]),s._v(" "),t("ul",[t("li",[s._v("组件中的状态是可变的")]),s._v(" "),t("li",[s._v("语法 "),t("code",[s._v("this.setState({})")]),s._v(" ，这个方法可以修改state同时可以更新UI")]),s._v(" "),t("li",[s._v("不要直接修改 "),t("code",[s._v("state")]),s._v(" 中的值")])]),s._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" render() {\n    return (\n      <div>\n        <h1>XXX</h1>\n        <div>{this.state.msg}</div>\n        <div>{this.state.count}</div>\n        <button onClick={this.handleClick}>点击事件</button>\n      </div>\n    )\n  }\n  handleClick = () => {\n    this.setState({\n      count: this.state.count + 1,\n    })\n  }\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h2",{attrs:{id:"和vue数据更新的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#和vue数据更新的区别"}},[s._v("#")]),s._v(" 和vue数据更新的区别")]),s._v(" "),t("p",[t("strong",[s._v("vue：")]),s._v(" vue2会通过 es5 的语法 "),t("code",[s._v("Object.defineProperty()")]),s._v(" vue3 会通过 "),t("code",[s._v("es6")]),s._v(" 的 "),t("code",[s._v("proxy")]),s._v(" 语法 检测到数据的变化，当数据变化的时候，vue 会帮助我们自动更新 DOM")]),s._v(" "),t("p",[t("strong",[s._v("react：")]),s._v(" react并不会去监听数据的变化，所以直接修改数据，react中的 DOM 不会自动更新，但是 react 提供了一个方法 "),t("code",[s._v("setState()")]),s._v(" ，它可以做  1.修改 "),t("code",[s._v("state")]),s._v(" 的值 2.更新 DOM")]),s._v(" "),t("h2",{attrs:{id:"react核心理念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react核心理念"}},[s._v("#")]),s._v(" react核心理念")]),s._v(" "),t("p",[t("strong",[s._v("状态不变")])]),s._v(" "),t("ul",[t("li",[s._v("不能直接修改 "),t("code",[s._v("react")]),s._v(" 中的 "),t("code",[s._v("state")]),s._v(" 的值，而是提供新的值覆盖")]),s._v(" "),t("li",[s._v("直接修改 "),t("code",[s._v("react")]),s._v(" 中的 "),t("code",[s._v("state")]),s._v(" 的值，组件不会更新")])]),s._v(" "),t("p",[s._v("同样的在修改对象类型的数据时，也是采用相同的方法覆盖其需要修改的值")]),s._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("clickFn = ()=>{\n    this.setState({\n        count:1,\n        msg:'world',\n        user:{\n            ...this.state.user,\n            name:'ls'\n        },\n        list:this.state.list.fitter(item=>item!=='ls')\n    })\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);