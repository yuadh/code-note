(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{488:function(t,a,s){"use strict";s.r(a);var e=s(7),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"中断程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中断程序"}},[t._v("#")]),t._v(" 中断程序")]),t._v(" "),a("p",[t._v("外部中断")]),t._v(" "),a("h2",{attrs:{id:"传递方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#传递方式"}},[t._v("#")]),t._v(" 传递方式")]),t._v(" "),a("ol",[a("li",[t._v("无条件传送：不考虑状态信息，直接传送数据")]),t._v(" "),a("li",[t._v("查询传送：不断查询外设状态信息，判断后决定是否传送数据")]),t._v(" "),a("li",[t._v("中断传送：由外设主动向控制器提出申请的数据传送方式")]),t._v(" "),a("li",[t._v("DMA传送：直接存储器存取，需要DMA控制器来完成而不需要CPU干预")])]),t._v(" "),a("p",[t._v("中断传送可以提供CPU的工作效率，可以提高实时数据的处理时效")]),t._v(" "),a("h2",{attrs:{id:"中断处理过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中断处理过程"}},[t._v("#")]),t._v(" 中断处理过程")]),t._v(" "),a("p",[t._v("中断请求、中断响应、中断处理和中断返回")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("中断请求")]),t._v("：外部设备向控制器提出中断请求")]),t._v(" "),a("li")]),t._v(" "),a("h2",{attrs:{id:"ie寄存器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ie寄存器"}},[t._v("#")]),t._v(" IE寄存器")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://code.yuadh.com/doc-img/IE%E5%AF%84%E5%AD%98%E5%99%A8.png",alt:""}})]),t._v(" "),a("ul",[a("li",[a("code",[t._v("EX0:")]),t._v(" 外部中断0 中断请求允许位")]),t._v(" "),a("li",[a("code",[t._v("ET0:")]),t._v(" 定时器/计数器0 中断请求允许位")]),t._v(" "),a("li",[a("code",[t._v("EX1:")]),t._v(" 外部中断1 中断请求允许位")]),t._v(" "),a("li",[a("code",[t._v("ET1:")]),t._v(" 定时器/计数器1 中断请求允许位")]),t._v(" "),a("li",[a("code",[t._v("ES:")]),t._v(" 串口中断请求允许位")]),t._v(" "),a("li",[a("code",[t._v("EA:")]),t._v(" 中断请求允许总控制位")])]),t._v(" "),a("h2",{attrs:{id:"中断源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中断源"}},[t._v("#")]),t._v(" 中断源")]),t._v(" "),a("ul",[a("li",[t._v("外部中断0 （"),a("code",[t._v("INT0^")]),t._v("） 中断标志 "),a("code",[t._v("IE0")])]),t._v(" "),a("li",[t._v("定时 / 计数 0 （"),a("code",[t._v("T0")]),t._v("）  中断标志 "),a("code",[t._v("IF0")])]),t._v(" "),a("li",[t._v("外部中断1 （"),a("code",[t._v("INT1^")]),t._v("） 中断标志 "),a("code",[t._v("IE1")])]),t._v(" "),a("li",[t._v("定时 / 计数 1 （"),a("code",[t._v("T1")]),t._v("）  中断标志 "),a("code",[t._v("IF1")])]),t._v(" "),a("li",[t._v("串口中断     接收标志 RI / 发送标志 TI")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("中断通道")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("中断源")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("中断请求标志")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("中断号")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("外部中断0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("P3^2 引脚中断请求")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("IE0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("0")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("定时计数器0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("T0计数溢出")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("TF0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("外部中断1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("P3^3引脚中断请求信号")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("IE1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("定时计数器1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("T1计数溢出")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("TF1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("3")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("串 口")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("接发一帧数据")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("RI/TI")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("4")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("定时计数器2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("计数溢出")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("TF2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("5")])])])]),t._v(" "),a("h2",{attrs:{id:"外部中断触发方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外部中断触发方式"}},[t._v("#")]),t._v(" 外部中断触发方式")]),t._v(" "),a("p",[t._v("负边沿触发，使控制位 "),a("code",[t._v("IT0 = 1")])]),t._v(" "),a("p",[t._v("低电平触发，使控制位 "),a("code",[t._v("IT1=0")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("TCON寄存器")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://code.yuadh.com/doc-img/TCON.png",alt:""}})]),t._v(" "),a("p",[a("code",[t._v("IT0/1")]),t._v(" : 中断请求触发标志位，1为负边沿触发，0为低电平触发")]),t._v(" "),a("p",[a("code",[t._v("IE0/1")]),t._v("：中断请求标志位")]),t._v(" "),a("h2",{attrs:{id:"中断程序c实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中断程序c实现"}},[t._v("#")]),t._v(" 中断程序C实现")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    TCON "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0X01")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    IE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0X81")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" interrupt "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        led "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("led"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h2",{attrs:{id:"的作用小补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#的作用小补充"}},[t._v("#")]),t._v(" |= 的作用小补充")]),t._v(" "),a("p",[a("code",[t._v("|=")]),t._v(" 的应用情景  当其它寄存器被使用到时，为了不影响到其它位进行的或运算")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[t._v("TF0"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开启了计时器模式 ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//如果直接使用 TCON = 0X01 会将定时器关闭 ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//所以使用或运算")]),t._v("\nTCON "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0X01")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"综合案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#综合案例"}},[t._v("#")]),t._v(" 综合案例")]),t._v(" "),a("p",[t._v("码表：")]),t._v(" "),a("h3",{attrs:{id:"实现功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现功能"}},[t._v("#")]),t._v(" 实现功能")]),t._v(" "),a("ol",[a("li",[t._v("可以计时间")]),t._v(" "),a("li",[t._v("码表显示一个最小的时常")]),t._v(" "),a("li",[t._v("码表的最大计数时间")]),t._v(" "),a("li",[t._v("可以存储时间")]),t._v(" "),a("li",[t._v("按键一一开始、存储、回显、复位")])]),t._v(" "),a("h3",{attrs:{id:"设计电路图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设计电路图"}},[t._v("#")]),t._v(" 设计电路图")]),t._v(" "),a("p",[t._v("51单片机最小系统：电源、复位电路、晶振电路、下载、51单片机")]),t._v(" "),a("ul",[a("li",[t._v("显示电路")]),t._v(" "),a("li",[t._v("按键电路")])]),t._v(" "),a("h3",{attrs:{id:"内部资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内部资源"}},[t._v("#")]),t._v(" 内部资源")]),t._v(" "),a("ul",[a("li",[t._v("I/O 口")]),t._v(" "),a("li",[t._v("定时计数器")])])])}),[],!1,null,null,null);a.default=n.exports}}]);