(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{468:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"文章搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文章搜索"}},[s._v("#")]),s._v(" 文章搜索")]),s._v(" "),t("p",[s._v("使用路由的文章搜索页面")]),s._v(" "),t("ul",[t("li",[s._v("使用 "),t("code",[s._v("vant-search")]),s._v(" 来画页面")])]),s._v(" "),t("p",[s._v("总体三部分功能的文章搜索")]),s._v(" "),t("ul",[t("li",[s._v("搜索历史")]),s._v(" "),t("li",[s._v("联想建议")]),s._v(" "),t("li",[s._v("搜索结果")])]),s._v(" "),t("p",[s._v("三部分的显示有一个逻辑，实现这个逻辑合理显示三个页面")]),s._v(" "),t("p",[s._v("画出简单的三组件页面")]),s._v(" "),t("h2",{attrs:{id:"联想建议组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联想建议组件"}},[s._v("#")]),s._v(" 联想建议组件")]),s._v(" "),t("ul",[t("li",[s._v("事件监听 ， 组件通信 ，一旦搜到父组件传来的数据，监听到进行处理")]),s._v(" "),t("li",[s._v("封装网络请求 请求得到数据 循环铺设数据")])]),s._v(" "),t("p",[t("code",[s._v("loadsh.js")]),s._v(" 第三方包工具库 ，里面有防抖函数 ，对网络请求作优化防止请求太快")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("读联想建议设置高亮")]),s._v(" "),t("p",[t("code",[s._v("v-html")]),s._v(" 将字符串解析为 "),t("code",[s._v("html")])]),s._v(" "),t("p",[s._v("使用 正则表达式 筛选需要高亮的字符串")])]),s._v(" "),t("li",[t("p",[s._v("点击搜索，获取搜索结果\n组件通信，将联想建议传递给父组件 在传递给搜索结果组件")]),s._v(" "),t("ul",[t("li",[s._v("封装网络请求")]),s._v(" "),t("li",[s._v("发送请求完成 页面，文章数等逻辑 "),t("code",[s._v("vant-list")])]),s._v(" "),t("li")])])]),s._v(" "),t("h2",{attrs:{id:"搜索历史组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索历史组件"}},[s._v("#")]),s._v(" 搜索历史组件")]),s._v(" "),t("p",[s._v("简单的画出 "),t("code",[s._v("css")]),s._v(" 界面")]),s._v(" "),t("p",[s._v("要求")]),s._v(" "),t("ul",[t("li",[s._v("不要有重复历史记录")]),s._v(" "),t("li",[s._v("最新的历史记录排在前面")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//简单实现")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchText "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" val\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" index "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchHistories"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("indexOf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("val"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchHistories"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("splice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果存在就删除")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchHistories"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unshift")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("val"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//添加或覆盖")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("循环铺设历史记录数据")])]),s._v(" "),t("p",[t("strong",[s._v("删除和搜索逻辑点击完成")])]),s._v(" "),t("p",[s._v("可以对父组件的数据进行引用类型值操作，但是不能直接赋值，即点击全部删除之后，需要组件通信 让父组件去清空搜索历史数据")]),s._v(" "),t("p",[s._v("而当个历史记录的点击可以引用类型值删除")]),s._v(" "),t("p",[t("strong",[s._v("非删除状态的点击事件")])]),s._v(" "),t("p",[s._v("组件通信，让父组件去搜索关键词")]),s._v(" "),t("h2",{attrs:{id:"本地持久化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地持久化"}},[s._v("#")]),s._v(" 本地持久化")]),s._v(" "),t("p",[s._v("利用封装好的本地存储，对搜索历史记录来进行存取操作")])])}),[],!1,null,null,null);t.default=e.exports}}]);