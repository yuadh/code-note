(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{465:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"个人中心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#个人中心"}},[s._v("#")]),s._v(" 个人中心")]),s._v(" "),t("ul",[t("li",[s._v("画页面（"),t("code",[s._v("css")]),s._v("难点）")]),s._v(" "),t("li",[s._v("铺设数据")])]),s._v(" "),t("p",[t("code",[s._v("TabBar")]),s._v(" 做导航，引导整个父级路由")]),s._v(" "),t("p",[s._v("有四个子路由页面")]),s._v(" "),t("ul",[t("li",[s._v("登入/我的 -")]),s._v(" "),t("li",[s._v("视频")]),s._v(" "),t("li",[s._v("问答")]),s._v(" "),t("li",[s._v("主页")])]),s._v(" "),t("h2",{attrs:{id:"layout-index-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#layout-index-vue"}},[s._v("#")]),s._v(" "),t("code",[s._v("layout/index.vue")])]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("Tabber")]),s._v(" 导航引导 子路由页面")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("根目录直接引导到 layout 的路由界面")])]),s._v(" "),t("li",[t("p",[s._v("配置好子路由页面")])])]),s._v(" "),t("h2",{attrs:{id:"my-index-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#my-index-vue"}},[s._v("#")]),s._v(" "),t("code",[s._v("my/index.vue")])]),s._v(" "),t("p",[s._v("个人中心主页面")]),s._v(" "),t("ul",[t("li",[s._v("上")]),s._v(" "),t("li",[s._v("中")]),s._v(" "),t("li",[s._v("下")])]),s._v(" "),t("p",[t("strong",[s._v("上部分")])]),s._v(" "),t("p",[t("code",[s._v("banner")]),s._v(" 未登入时的登入按钮、登入时的个人信息")]),s._v(" "),t("p",[s._v("为登入的页面显示")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("需要写简单样式")]),s._v(" "),t("div",{staticClass:"language-less line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-less"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".not-login")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("按钮使用的是 "),t("code",[s._v("div")]),s._v(" 标签")]),s._v(" "),t("p",[s._v("添加点击事件，路由返回")]),s._v(" "),t("p",[s._v("已登入用的页面显示")]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[s._v("头像 名字显示\t右侧编辑按钮")]),s._v(" "),t("li",[s._v("信息展示")])]),s._v(" "),t("p",[t("strong",[s._v("中部分")])]),s._v(" "),t("ul",[t("li",[s._v("Gird 宫格")]),s._v(" "),t("li",[s._v("收藏和历史 button")])]),s._v(" "),t("p",[s._v("引入 "),t("code",[s._v("Gird")]),s._v(" 宫格 Item 后写样式")]),s._v(" "),t("p",[s._v("可以加上反馈")]),s._v(" "),t("h2",{attrs:{id:"显示设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示设置"}},[s._v("#")]),s._v(" 显示设置")]),s._v(" "),t("p",[s._v("登入于未登入的显示设置")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("退出登入按钮")]),s._v(" "),t("p",[t("code",[s._v('van-cell v-if="user"')])]),s._v(" "),t("p",[t("code",[s._v("vuex")]),s._v(" 辅助函数拿到 user数据 判断是否空决定是否显示")])]),s._v(" "),t("li",[t("p",[s._v("整个登入button 和 用户信息 也根据拿到的 user 数据显示")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("this.$router.back()")])]),s._v(" "),t("p",[s._v("返回路由的跳转页面，"),t("strong",[s._v("注意：此处是暂时使用")])])])]),s._v(" "),t("h2",{attrs:{id:"退出登入操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#退出登入操作"}},[s._v("#")]),s._v(" 退出登入操作")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("Diolog")]),s._v(" 组件 ，添加点击事件然后对其进行处理")]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[s._v("//对登入时存储的 token 令牌进行情况即可\nthis.$store.commit('setUser',null)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"铺设数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#铺设数据"}},[s._v("#")]),s._v(" 铺设数据")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("封装方法")]),s._v(" "),t("p",[t("code",[s._v("base/v1_0/user")])])]),s._v(" "),t("li",[t("p",[s._v("根据文档发送请求 ，拿到数据，铺设数据")])])]),s._v(" "),t("p",[s._v("用户信息的请求方法需要 token 令牌")]),s._v(" "),t("p",[s._v("直接在封装的请求这里，给上 "),t("code",[s._v("headers")]),s._v(" 参数")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("request")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("method")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GET'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("url")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'v1_0/user'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("headers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Authorizetion")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Bearer${store.state.user.token}'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"优化token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化token"}},[s._v("#")]),s._v(" 优化token")]),s._v(" "),t("p",[t("strong",[s._v("拦截器")])]),s._v(" "),t("p",[s._v("这个拦截器有官方 "),t("code",[s._v("aioxs")]),s._v(" 的示例")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interceptors"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" store"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("state\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("token"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n       config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Authorizatio "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" config\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Promise"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);